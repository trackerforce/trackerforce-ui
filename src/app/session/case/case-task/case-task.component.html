<form class="form-container" [formGroup]="taskForm">
    <section>
        <span [ngClass]="iconClass"><i class="fas fa-check"></i></span>
        <mat-label>{{task.description}}</mat-label>
    </section>
    <section>
        @if (type === 'TEXT') {
        <mat-form-field appearance="outline">
            <mat-label>Response</mat-label>
            <input matInput formControlName="response" [readonly]="!open">
        </mat-form-field>
        }

        @if (type === 'MULTILINE_TEXT') {
        <mat-form-field appearance="outline">
            <mat-label>Response</mat-label>
            <textarea matInput formControlName="response" [readonly]="!open"></textarea>
        </mat-form-field>
        }

        @if (type === 'NUMBER') {
        <mat-form-field appearance="outline">
            <mat-label>Response</mat-label>
            <input matInput type="number" formControlName="response" [readonly]="!open">
        </mat-form-field>
        }

        @if (type === 'RADIO') {
        <div>
            <mat-radio-group class="radio-group" formControlName="response" [disabled]="!open">
                @for (opt of task.options; track opt) {
                <mat-radio-button class="radio-button" [color]="'primary'" [value]="opt.value">
                    {{opt.value}}
                </mat-radio-button>
                }
            </mat-radio-group>
        </div>
        }

        @if (type === 'DRILLDOWN') {
        <mat-form-field appearance="outline">
            <mat-label>Response</mat-label>
            <mat-select formControlName="response" [disabled]="!open">
                @for (opt of task.options; track opt) {
                <mat-option [value]="opt.value">
                    {{opt.value}}
                </mat-option>
                }
            </mat-select>
        </mat-form-field>
        }

        @if (type === 'CHECK') {
        <mat-checkbox 
            formControlName="response" 
            [color]="'primary'"
            [checked]="false"
            [disabled]="!open">Response
        </mat-checkbox>
        }
        <mat-divider></mat-divider>
    </section>
</form>