<form class="form-container" [formGroup]="procedureForm">
    <section>
        <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input matInput type="text" id="name" maxlength="200" placeholder="Name" formControlName="name"
                autocomplete="off" required>
            <mat-error>
                Please provide a valid Name
            </mat-error>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Description</mat-label>
            <input matInput type="text" id="description" maxlength="200" placeholder="Description"
                formControlName="description" autocomplete="off" required>
            <mat-error>
                Please provide a valid Description
            </mat-error>
        </mat-form-field>
    </section>
    <section>
        <mat-divider class="col"></mat-divider>
        <div class="row panel-checks-title">
            <mat-icon>playlist_add_check</mat-icon>
            <h3><strong>Tasks</strong></h3>
        </div>
        <div class="row panel-description">
            <mat-label>
                Add all necessary Tasks to be used as input for your Procedure.
            </mat-label>
        </div>
        <app-task-selection (selectedTask)="onSelectTask($event)"></app-task-selection>
        <br />
        <app-task-list class="{{ !hasTasks() ? 'hide' : '' }}"
            [procedureChild]="true"
            [editable]="true"
            [tasksSubject]="tasksSubject" 
            (removeTask)="onRemoveTask($event)">
        </app-task-list>
    </section>
    <section>
        <mat-divider class="col"></mat-divider>
        <div class="row panel-checks-title">
            <mat-icon>language</mat-icon>
            <h3><strong>Hook</strong></h3>
        </div>
        <div class="row panel-description">
            <mat-label>
                Include service URI that will be used to receive the payload generated by this Procedure.
            </mat-label>
        </div>
        <mat-form-field appearance="fill">
            <mat-label>Hook URI</mat-label>
            <input matInput type="text" id="name" maxlength="200" placeholder="Hook URI" formControlName="hook"
                autocomplete="off">
            <mat-error>
                Please provide a valid URI
            </mat-error>
        </mat-form-field>
    </section>
    <section>
        <app-helper [helper]="procedure.helper!" (selectedHelper)="onHelperChanged($event)"></app-helper>
    </section>
</form>