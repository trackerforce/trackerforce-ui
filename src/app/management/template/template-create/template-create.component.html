<mat-accordion>
    <mat-expansion-panel #mep="matExpansionPanel">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <mat-icon>library_add</mat-icon>New
            </mat-panel-title>
            <mat-panel-description>
                <span class="hide">Create a new Templates start new Session Cases</span>
            </mat-panel-description>
        </mat-expansion-panel-header>

        <app-template-detail 
            (addProcedure)="onAddProcedure($event)" 
            (removeProcedure)="onRemoveProcedure($event)"
            [templateForm]="templateForm"
            [loading]="false">
        </app-template-detail>
        <div>
            <button type="submit" (click)="onSubmit(); mep.expanded = !error ? false : true;" mat-raised-button
                color="primary">Create</button>
            <button type="button" (click)="mep.expanded = false; error = '';" mat-raised-button>Cancel</button>
        </div>
    </mat-expansion-panel>
</mat-accordion>
<div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>